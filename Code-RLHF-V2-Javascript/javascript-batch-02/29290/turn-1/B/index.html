<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Knife Thrower</title>
    <style>
        body { margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #f0f0f0; }
        canvas { background: #fff; border: 2px solid #000; }
        #gameOver, #startScreen { position: absolute; text-align: center; }
    </style>
</head>
<body>
    <div id="startScreen">
        <h1>Knife Thrower</h1>
        <p>Throw all 10 knives without hitting any!</p>
        <button onclick="startGame()">Start Game</button>
    </div>
    <div id="gameOver" style="display:none;">
        <h2>Game Over!</h2>
        <p>Your score: <span id="score"></span></p>
        <button onclick="location.reload()">Try Again</button>
    </div>
    <canvas id="gameCanvas" width="400" height="600"></canvas>

    <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const wheelRadius = 150;
    const wheelSpeed = 0.03;
    const knifeSpeed = 5;
    let wheelAngle = 0;
    let knives = [];
    let currentKnife = {x: canvas.width / 2 - 10, y: 50, width: 20, height: 50, thrown: false};
    let gameActive = false;
    let score = 0;

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        gameActive = true;
        animate();
    }

    function drawWheel() {
        ctx.save();
        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate(wheelAngle);
        ctx.beginPath();
        ctx.arc(0, 0, wheelRadius, 0, Math.PI * 2);
        ctx.stroke();
        ctx.restore();
    }

    function drawKnife(knife) {
        ctx.fillRect(knife.x, knife.y, knife.width, knife.height);
    }

    function throwKnife() {
        if (!currentKnife.thrown) {
            currentKnife.thrown = true;
            score++;
        }
    }

    function checkCollision() {
        for (let knife of knives) {
            if (currentKnife.thrown && 
                currentKnife.x < knife.x + knife.width &&
                currentKnife.x + currentKnife.width > knife.x &&
                currentKnife.y < knife.y + knife.height &&
                currentKnife.y + currentKnife.height > knife.y) {
                gameActive = false;
                document.getElementById('gameOver').style.display = 'block';
                document.getElementById('score').textContent = score - 1; // Subtract the current knife
                return;
            }
        }
    }

    function animate() {
        if (!gameActive) return;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        wheelAngle += wheelSpeed;
        drawWheel();

        if (currentKnife.thrown) {
            currentKnife.y += knifeSpeed;
            if (currentKnife.y > canvas.height) {
                knives.push(currentKnife);
                currentKnife = {x: canvas.width / 2 - 10, y: 50, width: 20, height: 50, thrown: false};
                if (knives.length >= 10) {
                    gameActive = false; // Game won, all knives thrown successfully
                    document.getElementById('gameOver').style.display = 'block';
                    document.getElementById('score').textContent = 10;
                }
            }
        }

        drawKnife(currentKnife);
        knives.forEach(drawKnife);
        checkCollision();

        requestAnimationFrame(animate);
    }

    window.addEventListener('keydown', function(e) {
        if (e.code === 'Space') throwKnife();
    });

    </script>
</body>
</html>